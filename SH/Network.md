# Network

## 1. OSI 7계층

​	Open Systems Interconnection의 약자로 개방형 시스템이라는 뜻

![osi-7-layer](md-images/osi-7-layer.png)

* 각 계층은 하위 계층의 기능만을 이용하고, 상위 계층에게 기능을 제공한다.

* '[프로토콜](공통의 데이터 교환 방법 및 순서에 대해 정의한 의사소통 약속, 규약 혹은 규칙 체계를 말한다.) 스택' 혹은 '스택'은 이러한 계층들로 구성되는 프로토콜 시스템이 구현된 시스템을 가리키는데, 프로토콜 스택은 하드웨어나 소프트웨어 혹은 둘의 혼합으로 구현될 수 있다.

* 일반적으로 하위 계층들은 하드웨어로, 상위 계층들은 소프트웨어로 구현된다.

  

![osi-table](md-images/osi-table.PNG)

### 1. 물리 계층(Physical layer)

* 단말기기와 전송매체 사이의 인터페이스를 정의하고 상위 계층 엔티티 간의 비트 전송을 위한 기계적, 전기적, 기능적, 절차적인 수단을 제공하는 계층. 즉, 이진 데이터를 어떤 시그마로 만들고, 신호를 주고 받기 위한 전기적, 전파적 특성을 정의하는 계층

* 네트워크의 기본 네트워크 하드웨어 전송 기술을 이룬다.

* 전송 단위는 Bit이다.

* 물리 계층에서 가장 많이 고민하는 사항은 대역폭과 전송효율

* 단지 데이터를 전달만 할 뿐 이 데이터가 무엇인지, 어떤 에러가 있는지, 어떻게 보내는 것이 더 효과적인지는 전혀 관혀하지 않는다.

  

### 2. 데이터 링크 계층(Data link layer)

* 잡음이 없는 인접한 노드 간의 물리적인 회선을 상위 계층이 사용할 수 있도록 전송에러가 없는 통신 채널로 변화시키는 계층

* 포인트 투 포인트(Point to Point) 간 신뢰성있는 전송을 보장하기 위한 계층으로 [CRC](순환 중복 검사(Cyclic Redundancy Check) : 네트워크 등을 통하여 데이터를 전송할 때 전송된 데이터에 오류가 있는지를 확인하기 위한 체크값을 결정하는 방식 ) 기반의 오류 제어와 흐름 제어가 필요하다.

* 주소 값은 물리적으로 할당 받는데, 이는 네트워크 카드가 만들어질 때부터 [맥 주소(MAC address)]( 네트워크 세그먼트의 데이터 링크 계층에서 통신을 위한 네트워크 인터페이스에 할당된 고유 식별자)가 정해져 있다는 뜻이다.

* 데이터 전송 단위는 Frame이다.

  

### 3. 네트워크 계층(Network layer)

* [논리적인 주소](IP주소, IPX주소, 컴퓨터 이름 등)를 담당하고 패킷의 전달 경로를 결정하는 계층

* 다양한 길이의 데이터를 네트워크들을 통해 전달하고, 그 과정에서 전송 계층이 요구하는 서비스 품질(QoS)을 제공하기 위한 기능적, 절차적 수단을 제공

* [라우팅](단말기 혹은 컴퓨터가 어떤 네트워크에 접속되어 있을 때 송신하고자 하는 정보가 네트워크를 통해서 어떻게 상대방 수신측까지 전달되는가를 제어하는 일을 담당. 즉, 발신에서 착신까지의 패킷의 경로를 제어), 흐름 제어, 세그멘테이션(segmentation/desegmentation), 오류 제어, 인터네트워킹(Internetworking) 등을 수행

* 네트워크 관리자가 직접 주소(IP)를 할당하는 구조를 가지며, 계층적(hierarchical)이다.

* 데이터 전송 단위는 Datagram(Packet)이다.

  

### 4. 전송 계층(Transport layer)

* 양 끝단(End to end)의 사용자들이 투명하고 신뢰성 있는 데이터를 주고 받을 수 있도록 해주어, 상위 계층들이 데이터 전달의 유효성이나 효율성을 생각하지 않도록 해주는 계층

* 시퀀스 넘버 기반의 오류 제어 방식을 사용한다.

* 전송 계층은 특정 연결의 유효성을 제어하고, 일부 프로토콜은 상태 개념이 있고(stateful), 연결 기반(connection oriented)이다. (이는 전송 계층이 패킷들의 전송이 유효한지 확인하고 전송 실패한 패킷들을 다시 전송한다는 것을 뜻한다.)

* 가장 잘 알려진 전송 계층의 예는 [TCP](전송 제어 프로토콜(Transmission Control Protocol))이다.

* 데이터 전송 단위는 Segment이다.

  

### 5. 세션 계층(Session layer)

* 양 끝단의 응용 프로그램 간의 연결을 성립하게 하고 연결이 안정되게 유관리하며 작업 완료 후 연결을 끊는 역할을 하는 계층. 즉, 데이터 교환과 에러 발생 시 복구를 담당

* TCP/IP 세션을 만들고 없애는 책임을 진다.

  

### 6. 표현 계층(Presentation layer)

* 코드 간의 번역을 담당하여 사용자 시스템에서 데이터의 형식상 차이를 하나의 통일된 형식으로 변환시켜 응용 계층의 부담을 덜어 주는 계층
* MIME 인코딩이나 암호화 등의 동작이 이 계층에서 이루어진다.



### 7. 응용 계층(Application layer)

* 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행하는 계층
* 일반적인 응용 서비스는 관련된 응용 프로세스들 사이의 전환을 제공한다.



### 계층을 나눈 이유?

통신이 일어나는 과정을 단계별로 파악하고 특정한 곳에 이상이 생기면 다른 단계를 건들지 않고 이상이 생긴 단계만 고칠 수 있게 하여 문제 해결을 용이하게 해준다.

즉, 상위 계층의 프로토콜이 제대로 동작하기 위해서는 하위의 모든 계층이 문제가 없어야 하기 때문에, 문제가 생긴 계층을 정확하게 파악할 수 있다.

